!function(a){function j(c,d,e,f){for(var g in e)switch(g){case"font-family":var h=e[g],j=e.subset?e.subset:0;clean_font_family=m(h),-1!=h.indexOf("gfont")&&r(d,clean_font_family,j),a(d).not(f).css(q(clean_font_family)),k("font-family",a(d));break;case"static-effect":var n=a(d).attr("class");if(n)for(var n=a(d).attr("class").split(" "),o=0;o<n.length;o++)-1!=n[o].indexOf("font-effect")&&a(d).removeClass(n[o]);a(d).not(f).addClass("font-effect-"+e[g]),i[c]["static-effect"]=e[g],i[c]["has-tried-inset"]="inset"==i[c]["static-effect"]?!0:i[c]["has-tried-inset"];break;case"icon":var p=b[c].icon;"hide"==e.icon?a(p).addClass("tc-hide-icon"):a(p).removeClass("tc-hide-icon");break;case"color":l(c,d,f,g,e[g]);break;default:a(d).not(f).css(g,e[g])}}function k(a,b){if(b.attr("style")){var c=b.attr("style").split(";");for(var d in c)-1!=c[d].indexOf(a)&&(c[d]=c[d]+"!important"),"all"==a&&-1==c[d].indexOf("font-family")&&c[d]&&(c[d]=c[d]+"!important");c=c.join(";"),b.attr("style",c)}}function l(b,d,e,f,g){var h=i[b]["static-effect"]?i[b]["static-effect"]:"";"inset"!=h&&"inset"==c[b]["static-effect"]&&a(d).css("background-color","transparent"),a(d).not(e).css(f,g)}function m(a){return a?a.replace("[cfont]","").replace("[gfont]",""):!1}function n(a){return a?a.replace(/[\+|:]/g," "):!1}function o(a){return a?a.replace(/[^0-9\.]+/g,""):!1}function p(a){return a=a.replace(/[\.|\#]/g,""),a.replace(/\s+/g,"-")}function q(a){var c,d,b=a.split(":"),e="";return c=b[0],d=b[1]?o(b[1]):"",e=b[1]&&-1!=b[1].indexOf("italic")?"italic":"",{"font-family":n(c),"font-weight":d||400,"font-style":e||""}}function r(b,c,d){g[b]=c;var e=["//fonts.googleapis.com/css?family="];e.push(c),d&&"all-subsets"!=d&&e.push("&subset="+d),0===a("link#"+p(b)).length?a("link:last").after('<link class="gfont" id="'+p(b)+'" href="'+e.join("")+'" rel="stylesheet" type="text/css">'):a("link#"+p(b)).attr("href",e.join(""))}var b=TCFontPreview.DefaultSettings,c=TCFontPreview.DBSettings,d=TCFontPreview.SettingPrefix,e=TCFontPreview.SkinColors,f=TCFontPreview.CurrentSkin||"grey.css",g=[],i=(TCFontPreview.POST,{});a.each(b,function(g){i[g]=i[g]||{},i[g]["has-tried-inset"]=!1,wp.customize(d+"["+g+"]",function(d){d.bind(function(d){Selector=b[g].selector||"",Selector=a("<textarea/>").html(Selector).text(),d?d=JSON.parse(d||{}):(a(Selector).attr("style",""),d=b[g]);var h=h||[],i=i||[],l=l||[],m=m||[];h[Selector]=b[g].not||"",d["color-hover"]&&(i[Selector]=d["color-hover"]||!1,l[Selector]="main"==b[g].color?e[f][0]||"#08c":b[g].color||"#777",SavedColor="main"==c[g].color?l[Selector]:c[g].color,m[Selector]=d.color||SavedColor||l[Selector],a(Selector).not(h[Selector]).hover(function(){a(this).css("color",i[Selector])},function(){a(this).css("color",m[Selector])})),j(g,Selector,d,h[Selector]),d.important&&k("all",a(Selector))})})})}(jQuery);